<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0054)http://aduni.org/file-storage/download?version_id=6954 -->
<HTML><HEAD>
<TITLE>5. Installing Oracle 8.1.7</TITLE>
<META http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<META content="MSHTML 5.50.4522.1800" name=GENERATOR>
<META content="Mozilla/4.73 [en] (X11; I; Linux 2.2.15-4mdk i686) [Netscape]" 
name=GENERATOR><LINK title="ACS Core" href="index.html" rel=home><LINK 
title="2. Installing on Unix/Linux" href="unix-install.html" rel=up><LINK 
title="4. Installing Red Hat Linux 6.2" href="redhat.html" rel=previous><LINK 
title="6. Installing AOlserver 3.1" href="aolserver.html" rel=next></HEAD>
<BODY text=#000000 vLink=#840084 aLink=#0000ff link=#0000ff bgColor=#ffffff>
<P><A class=topnav href="http://aduni.org/">Home<SPAN class=topnav></A> 
:&nbsp;<B>5. Installing Oracle 8.1.7&nbsp;</B> 
<HR noShade SIZE=1>
<DIV class=titlepage>
<H2 class=title style="CLEAR: all"><A name=oracle></A><SPAN 
class=label></SPAN>&nbsp;<SPAN class=title>Installing Oracle 8.1.7 - ADU 
style</SPAN></H2></DIV>
<DIV class=toc><B>Table of Contents</B> 
<DL>
  <DT>5.1. <A 
  href="http://aduni.org/file-storage/download?version_id=6954#install-oracle-getit">Acquire 
  Oracle 8.1.7 Enterprise Edition</A> 
  <DT>5.2. <A 
  href="http://aduni.org/file-storage/download?version_id=6954#install-oracle-keepinmind">Things 
  to Keep in Mind</A> 
  <DT>5.3. <A 
  href="http://aduni.org/file-storage/download?version_id=6954#install-oracle-preinstall">Pre-Installation 
  Tasks</A> 
  <DT>5.4. <A 
  href="http://aduni.org/file-storage/download?version_id=6954#install-oracle-install">Installing 
  Oracle 8.1.7 Server</A> 
  <DT>5.5. <A 
  href="http://aduni.org/file-storage/download?version_id=6954#install-oracle-create">Creating 
  the First Database</A> 
  <DT>5.6. <A 
  href="http://aduni.org/file-storage/download?version_id=6954#istall-oracle-test">Acceptance 
  Test</A> 
  <DT>5.7. <A 
  href="http://aduni.org/file-storage/download?version_id=6954#install-oracle-automating">Automating 
  Startup &amp; Shutdown</A> 
  <DT>5.8. <A 
  href="http://aduni.org/file-storage/download?version_id=6954#install-oracle-troubleshooting">Troubleshooting 
  Oracle Dates</A> 
  <DT>5.9. <A 
  href="http://aduni.org/file-storage/download?version_id=6954#install-oracle-procs">Useful 
  Procedures</A> 
  <DT>5.10. <A 
  href="http://aduni.org/file-storage/download?version_id=6954#install-oracle-defaults">Defaults</A> 
  </DT></DL></DIV>
<div class=sect1><B>NOTE:</B><I> This document was written based on Oracle, 
version 8.1.6, with some updates for 8.1.7 and ADU specific steps.</I> </div> 
<P class=sect1>Throughout this document, a '[bob@localhost]$' shell prompt indicates a 
normal user (and after you create the oracle user, '[oracle@localhost]$' will 
indicate that you are the oracle user).&nbsp; A '[root@localhost]#' for a prompt 
indicates that you are operating as root.&nbsp; Text preceded by a ';' is a 
comment by the authors of this document about what should be happening at that 
point. <BR>&nbsp; 
<DIV class=titlepage>
<H3 class=title><A name=install-oracle-getit></A><SPAN 
class=label>5.1.</SPAN>&nbsp;<SPAN class=title>Acquire Oracle 8.1.7 Enterprise 
Edition</SPAN></H3></DIV>
<div class=sect2>You have two choices for obtaining the 8.1.7 "tarball".&nbsp; 
Regardless of whether you copy the file from the CD or copy it over the network, 
you will want to save it in /opt, rather than your home directory (because the 
file is very large, saving it into your home directory will quickly fill up our 
fileserver, and installation will be quicker if the file is on your local hard 
drive).&nbsp; In order to save the tarrball onto your local machine, though, you 
will want to alter the permissions on /opt: </div>        
              
               
             
             
               
            
<P class=sect2>To temporarily "become" root, we use the 
'su' command (setuser). 
<p class=sect2><TT>[bob@localhost]$ cd /opt</TT> <BR><TT>[bob@localhost]$ su</TT> 
<BR><TT>Password:&nbsp;&nbsp; ; enter the root password obtained from a TA</TT> 
<BR><TT>[root@localhost]# chmod 777 /opt 
<br> </TT><tt>[root@localhost]</tt><tt># exit </tt></p>
<P class=sect2><A name=N1246></A>1. 
Get a tarball of the installer by either:
<div class=sect1>
<ul>
  <li>
  <div class=sect2>Downloading the tarball from our local database machine, 
  charmingly named 10.11.0.81: </div></li></ul></div>
<div class=orderedlist>
<ol type=1><TT>[bob@localhost]$ cd /opt</TT> <BR><TT>[bob@localhost]$ scp 
  10.11.0.81:/opt/linux81701.tar ./</TT> <BR><TT>; It may ask some convoluted 
  security question.&nbsp; Answer 'yes'</TT> <BR><TT>&lt;userid&gt;@10.11.0.81's 
  password:&nbsp; ; enter your password</TT> <BR><TT>; wait for 20 minutes or 
  so...</TT> <BR><TT>[bob@localhost]$</TT> <BR>&nbsp; 
</ol></div>
<ul>
  <li>Getting a CD (floating around the lab) and copying the 
  tarball to your machine. <BR>After inserting the CD: </li></ul>
<blockquote dir=ltr style="MARGIN-RIGHT: 0px">
  <blockquote dir=ltr style="MARGIN-RIGHT: 0px">
    <p><TT>[bob@localhost]$ cd /opt</TT> <BR><TT>[bob@localhost]$ cp 
  /mnt/cdrom/linux81701.tar .</TT> <BR><TT>[bob@localhost]$</TT>&nbsp;</p></blockquote></blockquote>
<p>2. After the download is complete, untar the file to a convenient location. 
To do this, you will need to login and cd to the directory where the archive 
is.&nbsp;&nbsp; </p>
<blockquote> 
      <TABLE cellSpacing=0 cellPadding=5 border=0 height=19>
        <TBODY>
        <TR>
          <TD class=codeblock>
        <div align=left><PRE><TT>[bob@localhost]</TT>$ cd /opt
<TT>[bob@localhost]</TT> $ tar -xvf
linux81701.tar</PRE></div></TD></TR></TBODY></TABLE></blockquote>
<H3 class=title><A name=install-oracle-keepinmind></A><SPAN 
class=label>5.2.</SPAN>&nbsp;<SPAN class=title>Things to Keep in 
Mind</SPAN></H3>
<div class=sect2>Throughout these instructions, we will refer to a number 
of configurable settings and advise certain defaults. With the exception of 
passwords, we advise you to follow these defaults unless you know what you are 
doing. Subsequent documents will expect that you used the defaults, so a change 
made here will necessitate further changes later. For a guide to the defaults, 
please see <A 
href="http://aduni.org/file-storage/download?version_id=6954#install-oracle-defaults">Section 
5.10.</A>.</div>
<DIV class=sect2 id=install-oracle-preinstall>
<DIV class=titlepage>
<H3 class=title><A name=install-oracle-preinstall></A><SPAN 
class=label>5.3.</SPAN>&nbsp;<SPAN class=title>Pre-Installation 
Tasks</SPAN></H3></DIV>Though Oracle 8.1.7 has an automated installer, we still 
need to perform several manual, administrative tasks before we can launch it. 
You must perform all of these steps as the <B>root</B> user. We recommend doing 
a '<TT>su -' to become root, but only when it</TT> <BR>is necessary. This 
command gives you full root access. 
<DIV class=itemizedlist>
<UL>
  <LI><A name=N1301></A>Login as yourself (if you are not already logged in) 
  <LI><A name=N1311></A>Open a terminal window type and login as root 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>[bob@localhost]$ su -
; Enter the <B>root</B> password (obtained from a TA) when prompted.
[root@localhost]#
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
  <LI><A name=N1321></A>Create and setup the <B>oracle</B> group and 
  <B>oracle</B> account&nbsp;
  <li> 
  <P>We need to create a user <B>oracle</B>, which is used to install the 
  product, as well as starting and stopping the database. 
  <BLOCKQUOTE> 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE> [root@localhost]# groupadd
dba [root@localhost]# groupadd
oinstall [root@localhost]# groupadd
oracle [root@localhost]# useradd -g dba -G oinstall,oracle -m oracle -d
/opt/oraclehome</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>Now change the 
  <B>oracle</B> account password 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE> [root@localhost]# passwd.local
oracle [root@localhost]#
logout</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>You will be 
  prompted for the New Password and Confirmation of that password. 
  <LI><A name=N1348></A>Setup the installation location for Oracle <BR> 
  <P>While Oracle can reside in a variety of places in the file system, we will 
  have adopted '/opt/ora8' as the base directory. 
  <P><B>Note:</B> the Oracle install needs about 1 GB free on '/opt/' to install 
  successfully. 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>[bob@localhost]$ su - oracle
Password: &lt;the password you set above&gt;
[oracle@localhost]$ mkdir /opt/ora8
[oracle@localhost]$ cd /opt/ora8
[oracle@localhost]$ mkdir -p m01 m02 m03/oradata/ora8
&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
  <LI><A name=N1360></A>Set up the <I>oracle</I> user environment 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1367></A>Log in as the user <B>oracle</B> <BR> 
    <P>In the same terminal window, type the following. 
    <BLOCKQUOTE>&nbsp; 
      <TABLE cellSpacing=0 cellPadding=5 border=0>
        <TBODY>
        <TR>
          <TD class=codeblock><PRE>[bob@localhost]$ su - oracle
Password:&nbsp;&nbsp; ; Enter oracle's password&gt;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
    <LI><A name=N1378></A>Use a text editor to edit the <B>.bash_profile</B> 
    file in the <B>oracle</B> account home directory. 
    <BLOCKQUOTE>&nbsp; 
      <TABLE cellSpacing=0 cellPadding=5 border=0>
        <TBODY>
        <TR>
          <TD class=codeblock><PRE>[oracle@localhost]$ emacs ~oracle/.bash_profile
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>You 
    may get this error trying to start emacs: 
    <BLOCKQUOTE>&nbsp; 
      <TABLE cellSpacing=0 cellPadding=5 border=0>
        <TBODY>
        <TR>
          <TD class=codeblock><PRE>Xlib: connection to ":0.0" refused by server
Xlib: Client is not authorized to connect to Server
emacs: Cannot connect to X server :0.
Check the DISPLAY environment variable or use `-d'.
Also use the `xhost' program to verify that it is set to permit
connections from your machine.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>If 
    so, do the following. 
    <BLOCKQUOTE>&nbsp; 
      <TABLE cellSpacing=0 cellPadding=5 border=0>
        <TBODY>
        <TR>
          <TD class=codeblock><PRE>Open a new terminal window.
[bob@localhost]$ xhost +localhost
Now, back in the oracle terminal
[oracle@localhost]$ export DISPLAY=    
  
     
      
  
     
      
  
     
  localhost:0.0
[oracle@localhost]$ emacs ~oracle/.bash_profile
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>Try 
    this procedure anytime you get an Xlib connection refused error. 
    <LI><A name=N1402></A>Add the following lines to ~oracle/.bash_profile: 
    <BLOCKQUOTE>&nbsp; 
      <TABLE cellSpacing=0 cellPadding=5 border=0>
        <TBODY>
        <TR>
          <TD class=codeblock><PRE>export ORACLE_BASE=/opt/ora8/m01/app/oracle
export ORACLE_HOME=$ORACLE_BASE/product/8.1.7
export PATH=$PATH:$ORACLE_HOME/bin
export LD_LIBRARY_PATH=$ORACLE_HOME/lib:/lib:/usr/lib
export ORACLE_SID=ora8
export ORACLE_TERM=vt100
export ORA_NLS33= 
 
 
 
 
 
  
 
 
 
 
 
  
 
 
 
 
 
 $ORACLE_HOME/ocommon/nls/admin/data

umask 022
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>Save 
    the file by typing <TT>CTRL-X CTRL-S</TT> and then exit by typing <TT>CTRL-X 
    CTRL-C</TT>. Alternatively, use the menus.</LI></UL></DIV>
  <BLOCKQUOTE>&nbsp;</BLOCKQUOTE>These lines will change the Oracle date 
  settings and will break the ArsDigita Community System (ACS) because ACS 
  depends on the ANSI date format, YYYY-MM-DD dates. 
  <LI><A name=N1428></A>Log out as oracle 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>[oracle@localhost]$ exit</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
  <LI><A name=N1435></A>Log back in as oracle and double check that your 
  environment variables are as intended 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>[bob@localhost]$ su - oracle
[oracle@localhost]$ env | grep ORA
&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>If it worked, 
  you should see: 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>ORACLE_SID=ora8
ORACLE_BASE=/opt/ora8/m01/app/oracle
ORACLE_TERM=vt100
ORACLE_HOME=/opt/ora8/m01/app/oracle/product/8.1.7
ORA_NLS33=











/opt/ora8/m01/app/oracle/product/8.1.7/ocommon/nls/admin/data&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>If not, try 
  adding the files to <TT>~oracle/.bashrc</TT> instead of 
  <TT>.bash_profile</TT>. Then logout and log back in again. Also, be certain 
  you are doing <TT>su -</TT> and not just <TT>su</TT>. The <TT>-</TT> means 
  that <TT>.bashrc</TT> and <TT>.bash_profile</TT> will be evaluated. 
  <P>Make sure that <B>/bin</B>, <B>/usr/bin</B>, and <B>/usr/local/bin</B> are 
  in your path by typing (it may not look exactly like this, but as long as the 
  /opt/ora8 stuff is there, all is well): 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>[oracle@localhost]$ echo $PATH
/bin:/usr/bin:/usr/local/bin:/usr/bin/X11:/usr/X11R6/bin:/opt/oraclehome/bin:/opt/ora8/m01/app/oracle/product/8.1.7/bin
&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>If they are 
  not, then add them to the .bash_profile by changing the PATH statement above 
  to <TT>PATH=$PATH:/usr/local/bin:$ORACLE_HOME/bin</TT></LI></UL></DIV></DIV>
<DIV class=sect2 id=install-oracle-install>
<DIV class=titlepage>
<H3 class=title><A name=install-oracle-install></A><SPAN 
class=label>5.4.</SPAN>&nbsp;<SPAN class=title>Installing Oracle 8.1.7 
Server</SPAN></H3></DIV>
<DIV class=itemizedlist>
<UL>
  <LI><A name=N1500></A>Log in as the user <B>oracle:</B> 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>Start a new terminal
[bob@localhost]$ xhost +localhost
[bob@localhost]$ su - oracle
Password:&nbsp;&nbsp; ; Enter oracle password
[oracle@localhost]$ export DISPLAY=   
  
   
    
     
  
   
    
     
  
   
    
  
localhost:0.0</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
  <LI><A name=N1509></A>Find the 'runInstaller' script 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1519></A>If you are installing from the tarball, the install 
    script is located in the 'Oracle8iR2' directory that was created when you 
    expanded the archive. 
    <BLOCKQUOTE>&nbsp; 
      <TABLE cellSpacing=0 cellPadding=5 border=0>
        <TBODY>
        <TR>
          <TD class=codeblock><PRE>[oracle@localhost]$ cd /opt/Disk1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE></LI></UL></DIV>Check 
  to make sure the file is there. 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>[oracle@localhost]$ ls
doc&nbsp; index.htm&nbsp; install&nbsp; runInstaller&nbsp; stage&nbsp; starterdb
&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>If you don't see 
  <TT>runInstaller</TT> you are in the wrong directory. 
  <LI><A name=N1536></A>Run the installer 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE> [oracle@localhost]$
./runInstaller</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1543></A>A window will open that welcomes you to the 'Oracle 
    Universal Installer' (OUI). Click on "<B>Next</B>" </LI></UL></DIV>
  <LI><A name=N1549></A>The "File Locations" screen in the OUI: 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1553></A>The "Source" path should be prefilled with&nbsp; 
    /opt/Disk1/stage/products.jar" 
    <LI><A name=N1556></A>The 
    "destination" path should be prefilled with 
    "/opt/ora8/m01/app/oracle/product/8.1.7"&nbsp;
    <li>If the destination is not correct it is because your environment 
    variables are not set properly. Make sure you logged on as <B>oracle</B> 
    using <TT>su - oracle</TT>. If so, edit the <TT>~oracle/.bash_profile</TT> 
    as you did in <A 
    href="http://aduni.org/file-storage/download?version_id=6954#install-oracle-preinstall">Section 
    5.3.</A>
    <LI><A name=N1574></A>Click "<B>Next"</B> (a pop up window will display 
    Loading Product information). </LI></UL></DIV>
  <LI><A name=N1577></A>The "Unix Group Name" screen in the OUI: 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1581></A>The Unix Group name needs to be set to 'oinstall' ( we 
    made this Unix group earlier ). 
    <LI><A name=N1584></A>Click "<B>Next</B>" 
    <LI><A name=N1587></A>A popup window appears instantly, requesting you to 
    run a script a root: 
    <LI><A name=N1590></A>In an active terminal window, then type: 
    <BLOCKQUOTE>&nbsp; 
      <TABLE cellSpacing=0 cellPadding=5 border=0>
        <TBODY>
        <TR>
          <TD class=codeblock><PRE>[bob@localhost]$ su
[root@localhost]# cd /opt/ora8/m01/app/oracle/product/8.1.7
[root@localhost]# ./orainstRoot.sh&nbsp;&nbsp;
; You should see:
Creating Oracle Inventory pointer file (/etc/oraInst.loc)
Changing groupname of /opt/ora8/m01/app/oracle/oraInventory to oinstall.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
[root@localhost]# exit</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
    <LI><A name=N1596></A>Click "Retry" </LI></UL></DIV>
  <LI><A name=N1599></A>The "Available Products" screen in the OUI: 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1603></A>Select "Oracle8i Enterprise Edition 8.1.7.0.1" 
    <LI><A name=N1606></A>Click "<B>Next</B>" </LI></UL></DIV>
  <LI><A name=N1609></A>The "Installation Types" screen 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1613></A>Select the "Custom" installation type. 
    <LI><A name=N1616></A>Click "<B>Next</B>" </LI></UL></DIV>
  <LI><A name=N1619></A>The "Available Product Components" screen 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1623></A>In addition to the defaults, make sure that "Oracle 
    Protocol Support 8.1.7.0.0," and "Oracle8i for Unix Documentation 8.1.7.0.0" 
    are also checked.&nbsp; In order to save space, you can safely disable 
    Oracle Enterprise Manager Products,&nbsp; and SQLJ (under Oracle JDBC 
    Drivers). 
    <LI><A name=N1626></A>Click "<B>Next</B>" 
    <LI><A name=N1629></A>A progress bar will appear for about 1 minute. 
  </LI></UL></DIV>
  <LI><A name=N1632></A>The "Component Locations" screen in the OUI 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1636></A>Click on the "Java Runtime Environment 1.1.8" It 
    should have the path "/opt/ora8/m01/app/oracle/jre/1.1.8" 
    <LI><A name=N1639></A>Click "<B>Next</B>" 
    <LI><A name=N1642></A>A progress bar will appear for about 1 minute. 
  </LI></UL></DIV>
  <LI><A name=N1645></A>The "Privileged Operation System Groups" screen in the 
  OUI 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1649></A>Enter "dba" for "Database Administrator (OSDBA) Group" 

    <LI><A name=N1652></A>Enter "dba" for the "Database Operator (OSOPER) Group" 

    <LI><A name=N1655></A>Click "<B>Next</B>" 
    <LI><A name=N1658></A>&nbsp; A progress bar will appear for a short while. 
    <BR>&nbsp;</LI></UL></DIV>
  <LI><A name=N1645></A>The 
  "Authentication Methods" screen in the OUI 
  <div class=itemizedlist>
  <ul>
    <LI>None of the items should be selected. 
    <LI><A name=N1655></A>Click "<B>Next</B>" </LI></ul></div>
  <LI>When the JDK Home directory screen comes up, enter 
  "/usr/java" and click "<strong>Next</strong>"
  <li>The "Create a Database" screen in the OUI 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1665></A>Select "No" as we will do this later, after some 
    important configuration changes. 
    <LI><A name=N1668></A>Click "<B>Next</B>" </LI></UL></DIV>
  <LI>"Oracle Protocol Support" 
  <UL>
    <LI>TCP should be grayed, but selected.&nbsp; LU6.2 should not be selected. 
    <LI>Click "<B>Next</B>" </LI></UL></LI></UL>
<UL>
  <LI><A name=N1671></A>The "Summary" screen in the OUI 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1675></A>Check the "Space Requirements" section to verify you 
    have enough disk space for the install. 
    <LI><A name=N1678></A>Check that 
    "(116 products)" is in the "New Installations" section title. If you have 
    fewer than 104, panic.&nbsp; If you have more, it is probably okay, but it will use up more of your possibly 
    precious disk space. 
    <LI><A name=N1681></A>Click "Install" 
    <LI><A name=N1684></A>A progress bar will appear for about 20- 30 minutes. 
    Now is a good time to take a break. 
    <LI><A name=N1687></A>A "Setup Privileges" window will popup towards the end 
    of the installation asking you to run a script as <I>root</I> 
    <LI><A name=N1693></A>The script supplied by Oracle has two minor shell 
    errors in it.&nbsp; Copy the version from 10.11.0.81, and run the script as 
    root. 
    <BLOCKQUOTE>&nbsp; 
      <TABLE cellSpacing=0 cellPadding=5 border=0>
        <TBODY>
        <TR>
          <TD class=codeblock><PRE>[bob@localhost]$ scp 10.11.0.81:/opt/use_this_root.sh /tmp/root.sh
bob@10.11.0.81's password:&nbsp; ; enter your password
[bob@localhost]$ su -
Password:&nbsp;&nbsp; ; Enter root password<br>   
     
  
  [root@localhost]# source ~oracle/.bash_profile
[root@localhost]# /tmp/root.sh
; You should see the following.&nbsp;&nbsp;&nbsp;
Running Oracle8 root.sh script...
The following environment variables are set as:
&nbsp;&nbsp;&nbsp; ORACLE_OWNER= oracle
&nbsp;&nbsp;&nbsp; ORACLE_HOME=&nbsp; /opt/ora8/m01/app/oracle/product/8.1.7
&nbsp;&nbsp;&nbsp; ORACLE_SID=&nbsp;&nbsp; ora8

Enter the full pathname of the local bin directory: [/usr/local/bin]:&nbsp;

<B>Press ENTER here to accept default of /usr/local/bin
</B>

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Creating /etc/oratab
file... Entry will be added to the /etc/oratab file
by Database Configuration Assistant when a database is
created Finished running generic part of root.sh
script. Now product-specific root actions will be
performed. [root@localhost]#
exit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE></LI></UL></DIV>
  <LI><A name=N1709></A>Go back to the pop-up window and click "OK" 
  <LI><A name=N1712></A>The "Configuration Tools" screen in the OUI 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1716></A>This window displays the config tools that will 
    automatically be launched.&nbsp; Wait a few seconds... </LI></UL></DIV>
  <LI><A name=N1719></A>The "Welcome" screen in the "net 8 Configuration 
  Assistant" will popup 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1723></A>Make sure the "Perform Typical installation" is 
    <B>not</B> selected. 
    <LI><A name=N1729></A>Click "<B>Next</B>" </LI></UL></DIV>
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1733></A>The "Directory Service Access" screen in the "Net 8 
    Configuration Assistant" 
    <LI><A name=N1736></A>Select "No" 
    <LI><A name=N1739></A>Click "<B>Next</B>" </LI></UL></DIV>
  <LI><A name=N1742></A>The "Listener Configuration, Listener Name" screen in 
  the "Net 8 Configuration Assistant" 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1746></A>Accept the default listener name of "LISTENER" 
    <LI><A name=N1749></A>Click "<B>Next</B>" </LI></UL></DIV>
  <LI><A name=N1752></A>The "Listener Configuration, Select Protocols" screen in 
  the "Net 8 Configuration Assistant" 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1756></A>The only choice in "Select protocols:" should be 
    "TCP/IP" 
    <LI><A name=N1759></A>Click "<B>Next</B>" </LI></UL></DIV>
  <LI><A name=N1762></A>The "Listener Configuration TCP/IP Protocol" screen in 
  the "Net 8 Configuration Assistant" 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1766></A>Default Port should be 1521 and selected. 
    <LI><A name=N1769></A>Click "<B>Next</B>" </LI></UL></DIV>
  <LI><A name=N1772></A>The "Listener Configuration, More Listeners" screen in 
  the "Net 8 Configuration Assistant" 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1776></A>Select "No" 
    <LI><A name=N1779></A>Click "<B>Next</B>" </LI></UL></DIV>
  <LI><A name=N1782></A>The "Listener Configuration Complete" screen in the "Net 
  8 Configuration Assistant" 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1786></A>Click "Next" </LI></UL></DIV>
  <LI><A name=N1789></A>The "Naming Methods Configuration" screen in the "Net 8 
  Configuration Assistant" 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1793></A>Select "No" 
    <LI><A name=N1796></A>Click "Next" </LI></UL></DIV>
  <LI><A name=N1799></A>The "Complete" screen in the "Net 8 Configuration 
  Assistant" 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1803></A>Click "Finish" </LI></UL></DIV>
  <LI><A name=N1806></A>The "End of Installation" screen in the OUI 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1810></A>Click "Exit" 
    <LI><A name=N1813></A>Click "Yes" on the confirmation pop up window. 
    <LI><A name=N1816></A>The Oracle Universal Installer window should have 
    disappeared! </LI></UL></DIV></LI></UL></DIV>Congratulations, you have just 
installed Oracle 8.1.7 Server! However, you still need to create a database 
which can take about an hour of non-interactive time, so don't quit yet.</DIV>
<DIV class=sect2 id=install-oracle-create>
<DIV class=titlepage>
<H3 class=title><A name=install-oracle-create></A><SPAN 
class=label>5.5.</SPAN>&nbsp;<SPAN class=title>Creating the First 
Database</SPAN></H3></DIV>This step will 
take you through the steps of creating a customized database. Be warned that 
this process takes about an hour on a Pentium II with 128 MB of RAM. It also takes a huge 
chunk of diskspace, so you may want to delete your Oracle tarball before creating 
the database (using the command 'rm /opt/linux81701.tar'). 
<DIV class=itemizedlist>
<UL>
  <LI><A name=N1828></A>Open up a terminal and su to oracle and then run the 
  <TT>dbassist</TT> program. 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>[bob@localhost]$ xhost +localhost
[bob@localhost]$ su - oracle
Password:&nbsp;&nbsp;&nbsp;&nbsp; ; Enter oracle password
[oracle@localhost]$ export DISPLAY=  
   
    
    
   
    
    
   
    
  localhost:0.0
[oracle@localhost]$ dbassist</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
  <LI><A name=N1838></A>The "Welcome" screen in the Oracle Database 
  Configuration Agent (ODCA) 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1842></A>Select "Create a database" 
    <LI><A name=N1845></A>Click "Next" </LI></UL></DIV>
  <LI><A name=N1848></A>The "Select database type" screen in the ODCA 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1852></A>Select "Custom" 
    <LI><A name=N1855></A>Click "Next" </LI></UL></DIV>
  <LI><A name=N1858></A>The "Primary Database Type" window in ODCA 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1862></A>Select "Multipurpose" 
    <LI><A name=N1865></A>Click "Next" </LI></UL></DIV>
  <LI><A name=N1868></A>The "concurrent connected users" screen of the ODCA 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N1872></A>Select "30" concurrent users. 
    <LI><A name=N1875></A>Click "Next" </LI></UL></DIV>
  <LI><A name=N1878></A>Select "<B>Dedicated Server Mode</B>", click 
  "<B>Next</B>" 
  <LI><A name=N1887></A>Accept all of the options, and click "<B>Next</B>" 
  Oracle Visual Information Retrieval may be grayed out. If so, you can ignore 
  it; just make sure that everything else is checked. 
  <LI><A name=N1893></A>For "Global Database Name", enter "<B>ora8</B>"; for 
  "SID", also enter "<B>ora8</B>" (it should do this automatically). Click 
  "<B>Next</B>". 
  <LI><A name=N1905></A>Accept the defaults for the next screen (control file 
  location). Click "<B>Next</B>" 
  <LI>Under the System tab, set Size to 100MB 
  <LI>Under the Users tab, set Size to 50MB 
  <LI>Under the Rollback tab, set Size to 100MB.&nbsp; Click "<B>Next</B>" 
  <LI><A name=N1926></A>Increase the redo log sizes to <B>10000K</B> each. Click 
  "<B>Next</B>" 
  <LI><A name=N1935></A>Use the default checkpoint interval &amp; timeout. Click 
  "<B>Next</B>" 
  <LI><A name=N1941></A>Set "<B>Block Size</B>" to <B>4096</B> (better for small 
  Linux boxes; aD uses 8192 on the big Solaris machines).&nbsp; Click 
  "<B>Next</B>" 
  <LI><A name=N1956></A>Accept the defaults for the Trace File Directories. 
  Click "<B>Next</B>" 
  <LI><A name=N1962></A><U>Do not choose to create the database now</U>.&nbsp; 
  Select "<B>Save information to a shell script</B>" and click "<B>Finish</B>" 
  (We're going to examine the contents of this file before creating our 
  database). 
  <LI><A name=N1971></A>Click the "<B>OK</B>" button in the resulting popup 
  window. Oracle should pop up another one saying "<B>Your shell script will be 
  saved as: ./sqlora8.sh</B>"&nbsp;&nbsp; The full path to this will likely be 
  <TT>/opt/ora8/m01/app/oracle/product/8.1.7/assistants/dbca/jlib/sqlora8.sh</TT> 

  <LI><A name=N1981></A>Click the "<B>OK</B>" button again. Oracle will alert 
  you that the script has been saved successfully. 
  <LI><A name=N1984></A>We now need to customize the database configuration a 
  bit. While still logged on as <B>oracle</B>, edit the database initialization 
  script (run when the db loads). The scripts are kept in 
  <TT>$ORACLE_HOME/dbs</TT> and the name of the script is usually 
  <TT>init</TT><I>SID</I><TT>.ora</TT> where <I>SID</I> is the SID of your 
  database.&nbsp; The following will open the file for editing: 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0 height=80>
      <TBODY>
      <TR>
        <TD class=codeblock><pre>;  edit /opt/ora8/m01/app/oracle/product/8.1.7/dbs/initora8.ora<br>[oracle@localhost]$ emacs /opt/ora8/m01/app/oracle/product/8.1.7/dbs/initora8.ora&nbsp;&nbsp;</pre></TD></TR></TBODY></TABLE></BLOCKQUOTE>
  <LI><A name=N2013></A>Add the following line to the end: <PRE>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nls_date_format =       "YYYY-MM-DD"</PRE>
  <LI><A name=N2047></A>Save the file. In emacs, do <TT>CTRL-X CTRL-S</TT> to 
  save followed by <TT>CTRL-X CTRL-C</TT> to exit or use the menu. 
  <LI><A name=N2058></A>At this point, you are ready to initiate database 
  creation. We recommend shutting down X to free up some RAM unless you have 256 
  MB of RAM or more. You can do this quickly by doing a 
  <TT>CRTL-ALT-BACKSPACE</TT>, but make sure you have saved any files you were 
  editing. You should now be returned to a text shell prompt. If you get sent to 
  a graphical login screen instead, switch to a virtual console by doing 
  <TT>CRTL-ALT-F1</TT>. Then login as <B>oracle</B>. 
  <LI><A name=N2072></A>Change to the directory where the database creation 
  script is and run it: 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>[oracle@localhost]$ cd /opt/ora8/m01/app/oracle/product/8.1.7/assistants/dbca/jlib
[oracle@localhost]$ ./sqlora8.sh</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>In 
  some instances, Oracle will save the file to 
  <TT>/opt/ora8/m01/app/oracle/product/8.1.7/assistants/dbca</TT> Try running the 
  script there if your first attempt does not succeed. 
  <LI><A name=N2083></A>Your database will now be built. It will take &gt; 1 
  hour - no fooling. You should see lots of errors scroll by (like: "ORA-01432: 
  public synonym to be dropped does not exist") Don't let this worry you. 
  <P><BR>Eventually, you'll be returned to your shell prompt. In the meantime, 
  relax, you've earned it.</P></LI></UL></DIV></DIV>
<DIV class=sect2 id=istall-oracle-test>
<DIV class=titlepage>
<H3 class=title><A name=istall-oracle-test></A><SPAN 
class=label>5.6.</SPAN>&nbsp;<SPAN class=title>Acceptance 
Test</SPAN></H3></DIV>For this step, open up a terminal and su to oracle as 
usual. You should be running X and Netscape for this phase. 
<DIV class=itemizedlist>
<UL>
  <LI><A name=N2095></A>You need to download the "Oracle Acceptance Test" file. 
  It's available <A target=_top 
  href="http://developer.arsdigita.com/doc/files/acceptance-sql.txt">here</A> 
  and at <A target=_top 
  href="http://philip.greenspun.com/wtr/oracle/acceptance-sql.txt">http://philip.greenspun.com/wtr/oracle/acceptance-sql.txt</A>. 
  Save the file to <TT>/tmp</TT> 
  <LI><A name=N2110></A>In the oracle shell, copy the file. 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>[oracle@localhost]$ cp /tmp/acceptance-sql.txt /tmp/acceptance.sql</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
  <LI><A name=N2116></A>Once you've got the acceptance test file all set, stay 
  in your term and type the following: 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>[oracle@localhost]$ sqlplus system/manager&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>SQL*Plus 
  should startup. If you get an <TT>ORA-01034: Oracle not Available</TT> error, 
  it is because your Oracle instance is not running. You can manually start it 
  as the <TT>oracle</TT> user. 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>[oracle@localhost]$ svrmgrl
SVRMGR&gt; connect internal
SVRMGR&gt; startup&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
  <LI><A name=N2135></A>Now that you're into SQL*Plus, change the default 
  passwords for system, sys, and ctxsys to "alexisahunk" (or to something you'll 
  remember): 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>SQL&gt; alter user system identified by alexisahunk;
SQL&gt; alter user sys identified by alexisahunk;
SQL&gt; alter user ctxsys identified by alexisahunk;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
  <LI><A name=N2141></A>Verify that your date settings are correct. 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>SQL&gt; select sysdate from dual;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>If 
  you don't see a date that fits the format <TT>YYYY-MM-DD</TT>, please read <A 
  href="http://aduni.org/file-storage/download?version_id=6954#install-oracle-troubleshooting">Section 
  5.8.</A>. 
  <LI><A name=N2156></A>At this point we are going to hammer your database with 
  an intense acceptance test. This usually takes around 30 minutes. 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>SQL&gt; @ /tmp/acceptance.sql

; A bunch of lines will scroll by.&nbsp; You'll know if the test worked if
; you see this at the end:

SYSDATE
----------
2000-06-10

SQL&gt;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>Many people 
  encounter an error regarding <TT>maximum key length</TT>: 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>ERROR at line 1:
ORA-01450: maximum key length (758) exceeded
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>This 
  error occurs if your database block size is wrong and is usually suffered by 
  people trying to load the ACS into a pre-existing database. Unfortunately, the 
  only solution is to create a new database with a block size of at least 
  <B>4096</B>. For instructions on how to do this, see <A 
  href="http://aduni.org/file-storage/download?version_id=6954#install-oracle-create">Section 
  5.5.</A> above. You can set the parameter using the <TT>dbassist</TT> program 
  or by setting the <TT>DB_BLOCK_SIZE</TT> parameter in your database's creation 
  script. 
  <P>If there were no errors, then consider yourself fortunate. Your Oracle 
  installation is working.</P></LI></UL></DIV></DIV>
<DIV class=sect2 id=install-oracle-automating>
<DIV class=titlepage>
<H3 class=title><A name=install-oracle-automating></A><SPAN 
class=label>5.7.</SPAN>&nbsp;<SPAN class=title>Automating Startup &amp; 
Shutdown</SPAN></H3></DIV>You will want to automate the database startup and 
shutdown process. It's probably best to have Oracle spring to life when you boot 
up your machine. 
<DIV class=itemizedlist>
<UL>
  <LI><A name=N2196></A>Oracle includes a script called <B>dbstart</B> that can 
  be used to automatically start the database. Unfortunately, the script shipped 
  in the Linux distribution does not work out of the box. The fix is simple. 
  Follow these directions to apply it. First, save <A target=_top 
  href="http://developer.arsdigita.com/doc/files/dbstart.txt">dbstart</A> to 
  <B>/tmp</B>. Then login, and su to <B>oracle</B>. 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE> $ cp /tmp/dbstart.txt
/opt/ora8/m01/app/oracle/product/8.1.7/bin/dbstart&nbsp; $ chmod 755
/opt/ora8/m01/app/oracle/product/8.1.7/bin/dbstart&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
  <LI><A name=N2215></A>While you're logged in as <B>oracle</B>, you should 
  configure the <B>oratab</B> file to load your database at start. Edit the file 
  <B>/etc/oratab</B>: 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N2228></A> 
    <P>You will see this line. 
    <BLOCKQUOTE>&nbsp; 
      <TABLE cellSpacing=0 cellPadding=5 border=0>
        <TBODY>
        <TR>
          <TD class=codeblock><PRE>ora8:/ora8/m01/app/oracle/product/8.1.7:N</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>By 
    the way, if you changed the service name or have multiple databases, the 
    format of this file is 
    <P><I><TT>service_name:$ORACLE_HOME:Y || N (for autoload)</TT></I> </P>
    <LI><A name=N2241></A>Change the last letter from "N" to "Y". This tells 
    Oracle that you want the database to start when the machine boots. It should 
    look like this. 
    <BLOCKQUOTE>&nbsp; 
      <TABLE cellSpacing=0 cellPadding=5 border=0>
        <TBODY>
        <TR>
          <TD class=codeblock><PRE>ora8:/ora8/m01/app/oracle/product/8.1.7:Y&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
    <LI><A name=N2247></A>Save the file &amp; quit the terminal. </LI></UL></DIV>
  <LI><A name=N2250></A>You need a 
  script to automate startup and shutdown.&nbsp;Get 
  <A target=_top 
  href="http://aduni.org/file-storage/download?file_id=6466">
  oracle8i.txt</A> from the course page and save it 
  in /tmp. Then login as <B>root</B> and install the script. 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE>$ su -
# cp /tmp/oracle8i.txt /etc/rc.d/init.d/oracle8i
# chown root.root /etc/rc.d/init.d/oracle8i
# chmod 700 /etc/rc.d/init.d/oracle8i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
  <LI><A name=N2263></A>Test the script by typing the following commands and 
  checking the output. 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE># /etc/rc.d/init.d/oracle8i stop
Oracle 8i auto start/stop
Shutting Oracle8i:
Oracle Server Manager Release 3.1.6.0.0 - Production

Copyright (c) 1997, 1999, Oracle Corporation.&nbsp; All Rights Reserved.

Oracle8i Enterprise Edition Release 8.1.7.1.0 - Production
With the Partitioning option
JServer Release 8.1.7.0.0 - Production

SVRMGR&gt; Connected.
SVRMGR&gt; Database closed.
Database dismounted.
ORACLE instance shut down.
SVRMGR&gt;&nbsp;
Server Manager complete.
Database "ora8" shut down.
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
# /etc/rc.d/init.d/oracle8i start
Oracle 8i auto start/stop
Starting Oracle8i:&nbsp;
SQL*Plus: Release 8.1.7.0.0 - Production on Sat Jun 10 17:56:02 2000

(c) Copyright 1999 Oracle Corporation.&nbsp; All rights reserved.

SQL&gt; Connected to an idle instance.
SQL&gt; ORACLE instance started.

Total System Global Area&nbsp;&nbsp; 85004272 bytes
Fixed Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 69616 bytes
Variable Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 76374016 bytes
Database Buffers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8388608 bytes
Redo Buffers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 172032 bytes
Database mounted.
Database opened.
SQL&gt; Disconnected

Database "ora8" warm started.&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
  <LI><A name=N2269></A>If it worked, then run these commands to make the 
  startup and shutdown automatic. 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE># cd /etc/rc.d/init.d/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
# chkconfig --add oracle8i
# chkconfig --list oracle8i
; You should see:
oracle8i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0:off&nbsp;&nbsp; 1:off&nbsp;&nbsp; 2:off&nbsp;&nbsp; 3:on&nbsp;&nbsp;&nbsp; 4:on&nbsp;&nbsp;&nbsp; 5:on&nbsp;&nbsp;&nbsp; 6:off&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
  <LI><A name=N2275></A>You also need some scripts to automate startup and 
  shutdown of the Oracle8i listener. The listener is a name server that allows 
  your Oracle programs to talk to local and remote databases using a standard 
  naming convention. It is required for Intermedia Text and full site search.&nbsp; 
  <BR>&nbsp; 
  <P>Download these three scripts into <B>/tmp</B> 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N2283></A><A target=_top 
    href="http://aduni.org/file-storage/download?file_id=6472">startlsnr.txt</A> 

    <LI><A name=N2288></A><A target=_top 
    href="http://aduni.org/file-storage/download?file_id=6473">stoplsnr.txt</A> 

    <LI><A name=N2293></A><A target=_top 
    href="http://aduni.org/file-storage/download?file_id=6474">listener8i.txt</A> 
    </LI></UL></DIV>Now issue the following commands (still as <B>root</B>). 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE># su - oracle
# cp /tmp/startlsnr.txt /ora8/m01/app/oracle/product/8.1.7/bin/startlsnr
$ cp /tmp/stoplsnr.txt /ora8/m01/app/oracle/product/8.1.7/bin/stoplsnr&nbsp;&nbsp;&nbsp;&nbsp;
$ chmod 700 /ora8/m01/app/oracle/product/8.1.7/bin/startlsnr
$ chmod 700 /ora8/m01/app/oracle/product/8.1.7/bin/stoplsnr
$ exit
; You should now be back as root.
# cp /tmp/listener8i.txt /etc/rc.d/init.d/listener8i
# cd /etc/rc.d/init.d
# chmod 700 listener8i&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>Test 
  the listener automation by running the following commands and checking the 
  output. 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE># ./listener8i stop
Oracle 8i listener start/stop
Shutting down Listener for 8i:&nbsp;
LSNRCTL for Linux: Version 8.1.7.0.0 - Production on 10-JUN-2000 18:28:49

(c) Copyright 1998, 1999, Oracle Corporation.&nbsp; All rights reserved.

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=localhost.localdomain)(PORT=1521)))
The command completed successfully

&nbsp;&nbsp;&nbsp;&nbsp;
# ./listener8i start
Oracle 8i listener start/stop
Starting the Listener for 8i:&nbsp;
LSNRCTL for Linux: Version 8.1.7.0.0 - Production on 10-JUN-2000 18:28:52

(c) Copyright 1998, 1999, Oracle Corporation.&nbsp; All rights reserved.

Starting /ora8/m01/app/oracle/product/8.1.7/bin/tnslsnr: please wait...

TNSLSNR for Linux: Version 8.1.7.0.0 - Production
System parameter file is /ora8/m01/app/oracle/product/8.1.7/network/admin/listener.ora
Log messages written to /ora8/m01/app/oracle/product/8.1.7/network/log/listener.log
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=localhost.localdomain)(PORT=1521)))
Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC)))

Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=localhost.localdomain)(PORT=  
   
    
         

        

  
   


  
   
    
         

        

   

      
    
    
  
  

    
   
    
         

        

  
   


  
   
    
         

        

   

      
    
    
  
  

    
   
    
         

        

  
   


  
   
    
         

        

   

      
    
    
  
  

  1521)))
STATUS of the LISTENER
------------------------
Alias&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; LISTENER
Version&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; TNSLSNR for Linux: Version 8.1.7.0.0 - Production
Start Date&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10-JUN-2000 18:28:53
Uptime&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 days 0 hr. 0 min. 0 sec
Trace Level&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; off
Security&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OFF
SNMP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; OFF
Listener Parameter File&nbsp;&nbsp; /ora8/m01/app/oracle/product/8.1.7/network/admin/listener.ora
Listener Log File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /ora8/m01/app/oracle/product/8.1.7/network/log/listener.log
Services Summary...
&nbsp; PLSExtProc&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; has 1 service handler(s)
&nbsp; ora8&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; has 1 service handler(s)
The command completed successfully&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>This 
  test will verify that the listener is operating normally. Login into the 
  database using the listener naming convention. 
  <P><TT>sqlplus</TT> <I><TT>username/password/@SID</TT></I> 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE># su - oracle
$ sqlplus system/alexisahunk@ora8

SQL&gt; select sysdate from dual;

SYSDATE
----------
2000-06-10

SQL&gt; exit
$ exit
#&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>Now run 
  <TT>chkconfig</TT> on the <TT>listener8i</TT> script. 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE># cd /etc/rc.d/init.d/
# chkconfig --add listener8i
# chkconfig --list listener8i
listener8i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0:off&nbsp;&nbsp; 1:off&nbsp;&nbsp; 2:off&nbsp;&nbsp; 3:on&nbsp;&nbsp;&nbsp; 4:on&nbsp;&nbsp;&nbsp; 5:on&nbsp;&nbsp;&nbsp; 6:off&nbsp;&nbsp;&nbsp;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
  <LI><A name=N2338></A>Test the automation&nbsp; <BR> 
  <P>As a final test, reboot your computer and make sure Oracle comes up. You 
  can do this by typing 
  <BLOCKQUOTE> 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE> # /sbin/shutdown -r -t 0
now</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>Log back in and 
  ensure that Oracle started automatically. 
  <BLOCKQUOTE>&nbsp; 
    <TABLE cellSpacing=0 cellPadding=5 border=0>
      <TBODY>
      <TR>
        <TD class=codeblock><PRE> $ su -
oracle $ sqlplus

system/alexisahunk@ora8 SQL&gt;
exit</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE></LI></UL></DIV>Congratulations, 
your installation of Oracle 8.1.7 is complete.</DIV>
<DIV class=sect2 id=install-oracle-troubleshooting>
<DIV class=titlepage>
<H3 class=title><A name=install-oracle-troubleshooting></A><SPAN 
class=label>5.8.</SPAN>&nbsp;<SPAN class=title>Troubleshooting Oracle 
Dates</SPAN></H3></DIV>Oracle has an internal representation for storing the 
data based on the number of seconds elapsed since some date. However, for the 
purposes of inputing dates into Oracle and getting them back out, Oracle needs 
to be told to use a specific date format. By default, it uses an Oracle-specific 
format which isn't copacetic. You want Oracle to use the ANSI-compliant date 
format which is of form <B>'YYYY-MM-DD'</B>. 
<P>To fix this, you should include the following line in 
<B><TT>$ORACLE_HOME/dbs/init</TT><I>SID</I><TT>.ora</TT></B> or for the default 
case, <B><TT>$ORACLE_HOME/dbs/initora8.ora</TT></B> 
<BLOCKQUOTE>&nbsp; 
  <TABLE cellSpacing=0 cellPadding=5 border=0>
    <TBODY>
    <TR>
      <TD class=codeblock><PRE>nls_date_format =    "YYYY-MM-DD"</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>You 
test whether this solved the problem by firing up <B>sqlplus</B> and typing: 
<BLOCKQUOTE>&nbsp; 
  <TABLE cellSpacing=0 cellPadding=5 border=0>
    <TBODY>
    <TR>
      <TD class=codeblock><PRE>SQL&gt; select sysdate from dual;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>You 
should see back a date like <TT>2000-06-02</TT>. If some of the date is chopped 
off, i.e. like <TT>2000-06-0</TT>, everything is still fine. The problem here is 
that <B>sqlplus</B> is simply truncating the output. You can fix this by typing: 

<BLOCKQUOTE>&nbsp; 
  <TABLE cellSpacing=0 cellPadding=5 border=0>
    <TBODY>
    <TR>
      <TD class=codeblock><PRE>SQL&gt; column sysdate format a15
SQL&gt; select sysdate from dual;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>If 
the date does not conform to this format, double-check that you included the 
necessary line in the init scripts. If it still isn't working, make sure that 
you have restarted the database since adding the line if you didn't do it prior 
to database creation. 
<P>If you're sure that you have restarted the database since adding the line, 
check your initialization scripts. Make sure that the following line is not 
included: 
<BLOCKQUOTE>&nbsp; 
  <TABLE cellSpacing=0 cellPadding=5 border=0>
    <TBODY>
    <TR>
      <TD class=codeblock><PRE>export nls_lang =       american</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>Setting 
this environment variable will override the date setting. Either delete this 
line and login again or add the following entry to your login scripts 
<I>after</I> the <TT>nls_lang</TT> line: 
<BLOCKQUOTE>&nbsp; 
  <TABLE cellSpacing=0 cellPadding=5 border=0>
    <TBODY>
    <TR>
      <TD class=codeblock><PRE>export nls_date_format =       'YYYY-MM-DD'</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>Log 
back in again. If adding the <TT>nls_date_format</TT> line doesn't help, you can 
ask for advice in our <A target=_top 
href="http://www.arsdigita.com/bboard/q-and-a?topic_id=21&amp;topic=web%2fdb">web/db 
forum</A>.</DIV>
<DIV class=sect2 id=install-oracle-procs>
<DIV class=titlepage>
<H3 class=title><A name=install-oracle-procs></A><SPAN 
class=label>5.9.</SPAN>&nbsp;<SPAN class=title>Useful 
Procedures</SPAN></H3></DIV>
<DIV class=itemizedlist>
<UL>
  <LI><A name=N2439></A>Dropping a tablespace 
  <DIV class=itemizedlist>
  <UL>
    <LI><A name=N2443></A>Run sqlplus as the dba: 
    <BLOCKQUOTE>&nbsp; 
      <TABLE cellSpacing=0 cellPadding=5 border=0>
        <TBODY>
        <TR>
          <TD class=codeblock><PRE>$ sqlplus system/changeme</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
    <LI><A name=N2449></A>To drop a user and all of the tables and data owned by 
    that user: 
    <BLOCKQUOTE>&nbsp; 
      <TABLE cellSpacing=0 cellPadding=5 border=0>
        <TBODY>
        <TR>
          <TD class=codeblock><PRE>SQL&gt; drop user <I>oracle_user_name</I> cascade;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE>
    <LI><A name=N2458></A>To drop the tablespace: This will delete everything in 
    the tablespace overriding any referential integrity constraints. Run this 
    command only if you want to clean out your database entirely. 
    <BLOCKQUOTE>&nbsp; 
      <TABLE cellSpacing=0 cellPadding=5 border=0>
        <TBODY>
        <TR>
          <TD class=codeblock><PRE>SQL&gt; drop tablespace <I>table_space_name</I> including contents cascade constraints;</PRE></TD></TR></TBODY></TABLE></BLOCKQUOTE></LI></UL></DIV></LI></UL></DIV>For 
more information on Oracle, please consult the <A target=_top 
href="http://oradoc.photo.net/">documentation</A>.</DIV>
<DIV class=sect2 id=install-oracle-defaults>
<DIV class=titlepage>
<H3 class=title><A name=install-oracle-defaults></A><SPAN 
class=label>5.10.</SPAN>&nbsp;<SPAN class=title>Defaults</SPAN></H3></DIV>We 
used the following defaults while installing Oracle. 
<DIV class=informaltable id=N2479><A name=N2479></A>
<TABLE cellSpacing=0 cellPadding=5 border=1>
  <CAPTION>
  <COLGROUP>
  <COL>
  <COL>
  <COL></COLGROUP>
  <TBODY><BR></TBODY></CAPTION>
  <TBODY>
  <TR>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional"><B>Variable</B></TD>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional"><B>Value</B></TD>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional"><B>Reason</B></TD></TR>
  <TR>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional">ORACLE_HOME</TD>
    <TD 
      xmlns="http://www.w3.org/TR/xhtml1/transitional">/opt/ora8/m01/app/oracle/product/8.1.7</TD>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional">This is the default 
      Oracle installation directory.</TD></TR>
  <TR>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional">ORACLE_SERVICE</TD>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional">ora8</TD>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional">The service name is a 
      domain-qualified identifier for your Oracle server.</TD></TR>
  <TR>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional">ORACLE_SID</TD>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional">ora8</TD>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional">This is an identifier 
      for your Oracle server.</TD></TR>
  <TR>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional">ORACLE_OWNER</TD>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional">oracle</TD>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional">The user who owns all 
      of the oracle files.</TD></TR>
  <TR>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional">ORACLE_GROUP</TD>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional">dba</TD>
    <TD xmlns="http://www.w3.org/TR/xhtml1/transitional">The special oracle 
      group. Users in the dba group are authorized to do a <TT>connect 
      internal</TT> within <TT>svrmgrl</TT> to gain full system access to the 
      Oracle system.</TD></TR></TBODY></TABLE></DIV>
<DIV class=cvstag>
<DIV align=right>($Id: oracle.xml,v 1.1.2.6 2001/02/20 19:52:53 claus Exp 
$)</DIV></DIV></DIV>
<DIV class=navfooter>
<HR noShade SIZE=1>
</DIV></SPAN></BODY></HTML>
